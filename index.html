<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SecureMail - Hệ Thống Phát Hiện Email Lừa Đảo</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>

    <header>
        <div class="header-container">
            <!-- Logo -->
            <div class="logo">
                <i class="fas fa-shield-alt"></i>
                <span>SecureMail</span>
            </div>
            <!-- Right Side -->
            <div class="header-right">
                <!-- Nút đăng nhập / đăng ký -->
                <div class="auth-buttons">
                    <a href="../login/login.html" class="btn-login">Đăng nhập</a>
                    <a href="../register/register.html" class="btn-register">Đăng ký</a>
                </div>
            </div>
        </div>
    </header>

    <div class="container">
        <section class="hero">
            <h1>Hệ Thống Phát Hiện Email Lừa Đảo</h1>
            <p>Bảo vệ bạn khỏi các trò lừa đảo qua email, email gian lận và các mối đe dọa bảo mật với hệ thống phát hiện được hỗ trợ bởi AI. Nền tảng của chúng tôi phân tích nội dung email, thông tin người gửi và các mẫu để xác định gian lận tiềm ẩn.</p>
            <button class="analyze-btn" id="demoAnalyze">
                <i class="fas fa-rocket"></i> Thử Phân Tích Demo
            </button>
        </section>

        <section class="checker-container">
            <div class="checker-header">
                <h2><i class="fas fa-envelope"></i> Trình Phân Tích Email Lừa Đảo</h2>
                <div class="checker-tabs">
                    <div class="tab active">Nhập Văn Bản</div>
                    <div class="tab">Tải Tệp Lên</div>
                    <div class="tab">Phân Tích URL</div>
                </div>
            </div>
            
            <textarea class="email-input" id="emailInput" placeholder="Dán nội dung email tại đây để phân tích...">Kính gửi Quý khách,

Chúng tôi đã phát hiện hoạt động bất thường trên tài khoản của bạn. Để bảo mật tài khoản, vui lòng xác minh thông tin của bạn bằng cách nhấp vào liên kết bên dưới:

http://ngan-hang-xac-minh.com/cap-nhat

Nếu không thực hiện trong vòng 24 giờ, tài khoản của bạn sẽ bị tạm ngưng.

Trân trọng,
Đội ngũ Bảo mật
Ngân hàng Ví dụ</textarea>
            
            <button class="analyze-btn" id="analyzeBtn">
                <i class="fas fa-search"></i> Phân Tích Email
            </button>
            
            <div class="results" id="results">
                <div class="result-card">
                    <div class="result-header">
                        <h3>Kết Quả Phân Tích</h3>
                        <div class="risk-level risk-high" id="riskLevel">Rủi Ro Cao</div>
                    </div>
                    <p><strong>Phân Tích Người Gửi:</strong> <span id="senderAnalysis">Miền người gửi đáng ngờ không liên kết với ngân hàng hợp pháp</span></p>
                    <p><strong>Phân Tích Nội Dung:</strong> <span id="contentAnalysis">Phát hiện ngôn ngữ khẩn cấp, phổ biến trong các nỗ lực lừa đảo</span></p>
                    <p><strong>Phân Tích Liên Kết:</strong> <span id="linkAnalysis">URL đáng ngờ chuyển hướng đến miền chưa được xác minh</span></p>
                    <p><strong>Điểm Đe Dọa:</strong> <span id="threatScore">87/100</span></p>
                    <p><strong>Khuyến Nghị:</strong> <span id="recommendation">Không nhấp vào bất kỳ liên kết nào hoặc cung cấp thông tin cá nhân. Đánh dấu là thư rác và xóa.</span></p>
                </div>
                
                <div class="result-card">
                    <div class="result-header">
                        <h3>Dữ Liệu Huấn Luyện AI</h3>
                        <div class="risk-level risk-medium" id="modelConfidence">Độ Tin Cậy Mô Hình: 94%</div>
                    </div>
                    <p>Mô hình học máy của chúng tôi đã được huấn luyện trên hơn 500,000 email lừa đảo và hợp pháp đã được xác minh.</p>
                    <p><strong>Trạng Thái Cơ Sở Dữ Liệu:</strong> <span id="dbStatus">Đã cập nhật 2 giờ trước với 1,247 mẫu đe dọa mới</span></p>
                    <p><strong>Độ Chính Xác Mô Hình:</strong> <span id="modelAccuracy">98.7% trên tập dữ liệu kiểm tra</span></p>
                </div>
            </div>
        </section>
        
        <section class="dashboard">
            <div class="dashboard-card">
                <h3><i class="fas fa-chart-pie"></i> Phân Phối Rủi Ro</h3>
                <div class="chart-container">
                    <canvas id="riskChart"></canvas>
                </div>
            </div>
            
            <div class="dashboard-card">
                <h3><i class="fas fa-chart-line"></i> Xu Hướng Đe Dọa</h3>
                <div class="chart-container">
                    <canvas id="trendChart"></canvas>
                </div>
            </div>
        </section>
        
        <section class="features">
            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-brain"></i>
                </div>
                <h3>Phát Hiện Bằng AI</h3>
                <p>Hệ thống của chúng tôi sử dụng các thuật toán học máy tiên tiến được huấn luyện trên hàng ngàn email lừa đảo đã được xác minh để xác định các mối đe dọa mới và đang phát triển.</p>
            </div>
            
            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-database"></i>
                </div>
                <h3>Cơ Sở Dữ Liệu Đe Dọa</h3>
                <p>Truy cập cơ sở dữ liệu được cập nhật liên tục của chúng tôi về các miền lừa đảo đã biết, địa chỉ IP độc hại và các mẫu email gian lận.</p>
            </div>
            
            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-chart-bar"></i>
                </div>
                <h3>Phân Tích Thời Gian Thực</h3>
                <p>Theo dõi các mẫu đe dọa với các công cụ phân tích và trực quan hóa chi tiết để hiểu các xu hướng lừa đảo email mới nhất.</p>
            </div>
        </section>
        
        <section class="stats">
            <div class="stat-card">
                <div class="stat-number">2.5M+</div>
                <p>Email Đã Phân Tích</p>
            </div>
            
            <div class="stat-card">
                <div class="stat-number">98.7%</div>
                <p>Độ Chính Xác Phát Hiện</p>
            </div>
            
            <div class="stat-card">
                <div class="stat-number">47K+</div>
                <p>Mẫu Đe Dọa</p>
            </div>
            
            <div class="stat-card">
                <div class="stat-number">24/7</div>
                <p>Giám Sát Thời Gian Thực</p>
            </div>
        </section>
    </div>

    <!-- === Nút Trợ lý AI === -->
    <button class="ai-assistant" id="aiBtn" title="Trợ lý AI">
        <i class="fas fa-robot"></i>
    </button>

    <!-- === Khung Chat Popup === -->
    <div class="chat-popup" id="chatPopup">
        <div class="chat-header">
            <h3><i class="fas fa-robot"></i> Trợ lý AI - SecureMail</h3>
            <button class="close-chat" id="closeChat">
                <i class="fas fa-times"></i>
            </button>
        </div>
        
        <div class="chat-messages" id="chatMessages">
            <div class="message bot">
                <strong>Xin chào! Tôi là trợ lý AI của SecureMail</strong><br>
                Tôi có thể giúp bạn hiểu về email lừa đảo và cách bảo vệ bản thân. Dưới đây là một số câu hỏi thường gặp:
                
                <div class="suggestions">
                    <button class="suggestion-btn" data-question="Email lừa đảo là gì?">Email lừa đảo là gì?</button>
                    <button class="suggestion-btn" data-question="Làm sao nhận biết email giả mạo?">Làm sao nhận biết email giả mạo?</button>
                    <button class="suggestion-btn" data-question="SecureMail hoạt động như thế nào?">SecureMail hoạt động như thế nào?</button>
                    <button class="suggestion-btn" data-question="Bị lừa đảo thì làm gì?">Bị lừa đảo thì làm gì?</button>
                </div>
            </div>
        </div>
        
        <div class="chat-input">
            <input type="text" id="chatInput" placeholder="Nhập câu hỏi của bạn...">
            <button class="send-btn" id="sendMessage">
                <i class="fas fa-paper-plane"></i>
            </button>
        </div>
    </div>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>SecureMail</h3>
                    <p>Phát hiện email lừa đảo tiên tiến được hỗ trợ bởi AI và học máy để bảo vệ cá nhân và tổ chức khỏi các cuộc tấn công lừa đảo.</p>
                </div>
                
                <div class="footer-section">
                    <h3>Liên Kết Nhanh</h3>
                    <ul>
                        <li><a href="#">Trang chủ</a></li>
                        <li><a href="#">Trình Kiểm Tra Email</a></li>
                        <li><a href="#">Cơ Sở Dữ Liệu Đe Dọa</a></li>
                        <li><a href="#">Tài Liệu API</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h3>Tài Nguyên</h3>
                    <ul>
                        <li><a href="#">Ví Dụ Lừa Đảo</a></li>
                        <li><a href="#">Blog Bảo Mật</a></li>
                        <li><a href="#">Tài Liệu Nghiên Cứu</a></li>
                        <li><a href="#">Tài Liệu Đào Tạo</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h3>Liên Hệ Chúng Tôi</h3>
                    <ul>
                        <li><i class="fas fa-envelope"></i> support@securemail.com</li>
                        <li><i class="fas fa-phone"></i> +84 (123) 456-789</li>
                        <li><i class="fas fa-map-marker-alt"></i> 123 Đường Bảo Mật, TP. Hồ Chí Minh</li>
                    </ul>
                </div>
            </div>
            
            <div class="copyright">
                <p>&copy; 2023 SecureMail. Tất cả các quyền được bảo lưu.</p>
            </div>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Khởi tạo biểu đồ
            const riskCtx = document.getElementById('riskChart').getContext('2d');
            const riskChart = new Chart(riskCtx, {
                type: 'doughnut',
                data: {
                    labels: ['Rủi Ro Thấp', 'Rủi Ro Trung Bình', 'Rủi Ro Cao'],
                    datasets: [{
                        data: [45, 30, 25],
                        backgroundColor: [
                            '#43a047',
                            '#ffb300',
                            '#e53935'
                        ],
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom'
                        }
                    }
                }
            });
            
            const trendCtx = document.getElementById('trendChart').getContext('2d');
            const trendChart = new Chart(trendCtx, {
                type: 'line',
                data: {
                    labels: ['Tháng 1', 'Tháng 2', 'Tháng 3', 'Tháng 4', 'Tháng 5', 'Tháng 6'],
                    datasets: [{
                        label: 'Email Lừa Đảo',
                        data: [1200, 1900, 1500, 2200, 1800, 2500],
                        borderColor: '#e53935',
                        backgroundColor: 'rgba(229, 57, 53, 0.1)',
                        tension: 0.3,
                        fill: true
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    }
                }
            });
            
            // Demo analysis button
            const demoAnalyzeBtn = document.getElementById('demoAnalyze');
            const analyzeBtn = document.getElementById('analyzeBtn');
            const resultsSection = document.getElementById('results');
            const emailInput = document.getElementById('emailInput');
            
            demoAnalyzeBtn.addEventListener('click', function() {
                analyzeEmail();
            });
            
            analyzeBtn.addEventListener('click', function() {
                analyzeEmail();
            });
            
            function analyzeEmail() {
                const emailContent = emailInput.value;
                
                // Hiển thị kết quả
                resultsSection.style.display = 'block';
                
                // Phân tích cơ bản dựa trên nội dung
                let riskLevel = "Rủi Ro Cao";
                let threatScore = 87;
                let senderAnalysis = "Miền người gửi đáng ngờ không liên kết với ngân hàng hợp pháp";
                let contentAnalysis = "Phát hiện ngôn ngữ khẩn cấp, phổ biến trong các nỗ lực lừa đảo";
                let linkAnalysis = "URL đáng ngờ chuyển hướng đến miền chưa được xác minh";
                let recommendation = "Không nhấp vào bất kỳ liên kết nào hoặc cung cấp thông tin cá nhân. Đánh dấu là thư rác và xóa.";
                
                // Cập nhật giao diện với kết quả phân tích
                document.getElementById('riskLevel').textContent = riskLevel;
                document.getElementById('threatScore').textContent = threatScore + "/100";
                document.getElementById('senderAnalysis').textContent = senderAnalysis;
                document.getElementById('contentAnalysis').textContent = contentAnalysis;
                document.getElementById('linkAnalysis').textContent = linkAnalysis;
                document.getElementById('recommendation').textContent = recommendation;
                
                // Cuộn đến kết quả
                window.scrollTo({
                    top: resultsSection.offsetTop - 20,
                    behavior: 'smooth'
                });
            }
            
            // Tab functionality
            const tabs = document.querySelectorAll('.tab');
            tabs.forEach(tab => {
                tab.addEventListener('click', function() {
                    tabs.forEach(t => t.classList.remove('active'));
                    this.classList.add('active');
                });
            });

            // Xử lý mở/đóng khung chat
            const aiBtn = document.getElementById('aiBtn');
            const chatPopup = document.getElementById('chatPopup');
            const closeChat = document.getElementById('closeChat');
            const chatMessages = document.getElementById('chatMessages');
            const chatInput = document.getElementById('chatInput');
            const sendMessage = document.getElementById('sendMessage');
            const suggestionBtns = document.querySelectorAll('.suggestion-btn');

            // Mở khung chat
            aiBtn.addEventListener('click', function() {
                chatPopup.classList.add('active');
            });

            // Đóng khung chat
            closeChat.addEventListener('click', function() {
                chatPopup.classList.remove('active');
            });

            // Đóng khi click bên ngoài
            document.addEventListener('click', function(event) {
                if (!chatPopup.contains(event.target) && !aiBtn.contains(event.target)) {
                    chatPopup.classList.remove('active');
                }
            });

            // Danh sách câu trả lời
            const answers = {
                "Email lừa đảo là gì?": "Email lừa đảo (Phishing) là hình thức tấn công mạng thông qua email, nơi kẻ tấn công giả mạo các tổ chức uy tín để đánh cắp thông tin nhạy cảm như mật khẩu, thông tin thẻ tín dụng, hoặc cài đặt phần mềm độc hại.",
                "Làm sao nhận biết email giả mạo?": "Dấu hiệu nhận biết email giả mạo: địa chỉ người gửi lạ, lỗi chính tả, yêu cầu khẩn cấp, liên kết đáng ngờ, đính kèm tập tin lạ, yêu cầu thông tin cá nhân.",
                "SecureMail hoạt động như thế nào?": "SecureMail sử dụng AI và machine learning để phân tích: nội dung email, thông tin người gửi, liên kết URL, và so sánh với cơ sở dữ liệu các mẫu lừa đảo đã biết để đưa ra cảnh báo.",
                "Bị lừa đảo thì làm gì?": "Nếu nghi ngờ bị lừa đảo: không nhấp liên kết/tải file, báo cáo cho quản trị viên, đổi mật khẩu ngay lập tức, quét máy tính bằng phần mềm diệt virus."
            };

            // Thêm tin nhắn vào khung chat
            function addMessage(text, isUser = false) {
                const messageDiv = document.createElement('div');
                messageDiv.className = `message ${isUser ? 'user' : 'bot'}`;
                messageDiv.innerHTML = text;
                chatMessages.appendChild(messageDiv);
                chatMessages.scrollTop = chatMessages.scrollHeight;
            }

            // Xử lý gửi tin nhắn
            function sendChatMessage() {
                const message = chatInput.value.trim();
                if (message === '') return;
                
                addMessage(message, true);
                chatInput.value = '';
                
                // Phản hồi AI (đơn giản)
                setTimeout(() => {
                    let response = "Cảm ơn câu hỏi của bạn! Tôi có thể giúp giải đáp về email lừa đảo, bảo mật email, và cách sử dụng SecureMail.";
                    
                    // Kiểm tra từ khóa để đưa ra câu trả lời phù hợp
                    const lowerMessage = message.toLowerCase();
                    if (lowerMessage.includes('lừa đảo') || lowerMessage.includes('phishing')) {
                        response = answers["Email lừa đảo là gì?"];
                    } else if (lowerMessage.includes('nhận biết') || lowerMessage.includes('phát hiện')) {
                        response = answers["Làm sao nhận biết email giả mạo?"];
                    } else if (lowerMessage.includes('hoạt động') || lowerMessage.includes('cách thức')) {
                        response = answers["SecureMail hoạt động như thế nào?"];
                    } else if (lowerMessage.includes('làm gì') || lowerMessage.includes('xử lý')) {
                        response = answers["Bị lừa đảo thì làm gì?"];
                    }
                    
                    addMessage(response);
                }, 1000);
            }

            // Gửi tin nhắn khi nhấn nút
            sendMessage.addEventListener('click', sendChatMessage);

            // Gửi tin nhắn khi nhấn Enter
            chatInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    sendChatMessage();
                }
            });

            // Xử lý các nút gợi ý
            suggestionBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    const question = this.getAttribute('data-question');
                    addMessage(question, true);
                    
                    setTimeout(() => {
                        addMessage(answers[question] || "Xin lỗi, tôi chưa có thông tin về câu hỏi này.");
                    }, 500);
                });
            });
        });
    </script>
</body>
</html>